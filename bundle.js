(()=>{var T=()=>typeof window>"u"||window.document===void 0,g={promise:null},F=(()=>{let e;return async()=>{if(e)return e;try{let t=await(await fetch("https://aakashdinkarh.github.io/static_assets/files/projects/project-details.json")).json(),s=Object.keys(t).flatMap(r=>t[r]);return e={data:t,allProjects:s,uniqueTags:[...new Set(s.flatMap(r=>r.tags))]},e}catch{return{data:{},allProjects:[]}}}})(),u=async()=>g.promise?await g.promise:(g.promise=F(),await g.promise),d=()=>{try{let e=new URLSearchParams(window.location.search);return decodeURIComponent(e.get("tags")||"").split(",").filter(Boolean)}catch{return[]}},E=e=>{try{return e.split("_").map(n=>n[0].toUpperCase()+n.slice(1)).join(" ")}catch{return e}},j=e=>{if(!e?.length){window.history.replaceState({},"",`${window.location.pathname}`);return}let n=new URLSearchParams(window.location.search);n.set("tags",encodeURIComponent(e.join(","))),window.history.replaceState({},"",`${window.location.pathname}?${n}`)},w=(e,n=[])=>{let t={},s=n.length===0;return Object.keys(e).map(r=>{t[r]=[],e[r].forEach(i=>{i.hidden||!(s||n.some(m=>i.tags?.includes(m)))||t[r].push(i)})}),t};var a=(e,n,t,s)=>{let r=document.createElement(e);return n&&(r.className=n),t&&(r.innerText=t),e==="a"&&s&&(r.target="_blank",r.href=s),r},P=(e={},n,t,s)=>{let r=a("picture"),o=a("source");o.type="image/avif",o.srcset=e.avif;let i=a("img",t);if(i.alt=n,i.src=e.webp,i.loading="lazy",i.decoding="async",r.append(o,i),s){let c=a("a",null,null,s.href);return c.append(r),c}return r},D=(e,n,t,s,r)=>{let o=a("div","project-card"),i=a("h2","project-title",e),c=a("p","project-description",n),m=a("div","project-links"),l=t.map(p=>a("a","link",p.title,p.href)),C=t.find(p=>p.title==="Try it Now"||p.title==="Codebook"),x=P(s,e,"project-image",C),h=a("div","project-tags"),v=r.map(p=>a("span","project-tag",p));return h.append(...v),m.append(...l),o.append(x,i,c,m,h),o},A=e=>{let n=Object.keys(e).map(s=>{let r=document.createDocumentFragment(),o=E(s),i=a("h2",null,o),c=a("div","project-list");if(!e[s].length)return r.append(i,a("i","no-results","No results here for applied filters. Try removing some filters")),r;let m=e[s].map(l=>D(l.title,l.description,l.links,l.image,l.tags));return c.append(...m),r.append(i,c),r}),t=document.getElementsByTagName("main")?.[0];if(t&&(t.replaceChildren(...n),t.synthetic))return t},f=async e=>{let{data:n}=await u(),t=w(n,e),s=A(t);if(s)return s};var b=(e=[])=>e.map(n=>a("button","filter-tag",n)),k=(e=[])=>{let n=document.querySelectorAll(".filter-tag");return n.forEach(t=>{let s=t.textContent;return e.includes(s)&&t.classList.add("active"),t.onclick=()=>{let r=d();r.includes(s)?(r=r.filter(o=>o!==s),t.classList.remove("active")):(r.push(s),t.classList.add("active")),f(r),setTimeout(j,0,r)},t}),n},S=(e=[])=>{let n=d();return T()?b(e):(k(n),[])},y=async()=>{let{uniqueTags:e}=await u(),n=S(e);if(n.length){let t=document.getElementsByTagName("section")?.[0];return t&&(t.className="filters",t.innerText="Filter Tags",t.append("<br />",...n)),t}};var L=async()=>{y();let e=d();f(e)};L();})();
